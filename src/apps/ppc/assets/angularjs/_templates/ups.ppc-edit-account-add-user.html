
<p>Enter the ups.com ID and email for each person you'd like to authorize.</p>
<p>
    <em>
        <span aria-hidden="true">*</span>
        <span class="ups-readerTxt">Required</span>
        Indicates required field
    </em>
</p>
<div data-ng-if="clicked && !ups_addUser.$valid">
    <h3 class="ups-invalid_color-list ups-error_alert-list">
        <span class="icon ups-icon-exclamation" aria-hidden="true"></span>
        Please correct the following errors:
    </h3>
    <ul class="ups-icons-error">
        <li data-ng-if="ups_addUser.user_name0.$error.required"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-user-id0" error-on-submit-anchor class="ups-invalid_color"> User ID 1</a> is required.
            </span>
        </li>
        <li data-ng-if="ups_addUser.email_input0.$error.required"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-email0" error-on-submit-anchor class="ups-invalid_color"> Email 1</a> is required.
            </span>
        </li>
        <li data-ng-if="ups_addUser.email_input0.$error.email"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-email0" error-on-submit-anchor class="ups-invalid_color"> Email 1</a> is not valid.
            </span>
        </li>
        <li data-ng-if="ups_addUser.user_name1.$error.required"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-user-id1" error-on-submit-anchor class="ups-invalid_color"> User ID 2</a> is required.
            </span>
        </li>
        <li data-ng-if="ups_addUser.email_input1.$error.required"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-email1" error-on-submit-anchor class="ups-invalid_color"> Email 2</a> is required.
            </span>
        </li>
        <li data-ng-if="ups_addUser.email_input1.$error.email"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-email1" error-on-submit-anchor class="ups-invalid_color"> Email 2</a> is not valid.
            </span>
        </li>
        <li data-ng-if="ups_addUser.user_name2.$error.required"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-user-id2" error-on-submit-anchor class="ups-invalid_color"> User ID 3</a> is required.
            </span>
        </li>
        <li data-ng-if="ups_addUser.email_input2.$error.required"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-email2" error-on-submit-anchor class="ups-invalid_color"> Email 3</a> is required.
            </span>
        </li>
        <li data-ng-if="ups_addUser.email_input2.$error.email"> 
            <span>
                <a href="#" onclick="return false;" focus-attr="add-email2" error-on-submit-anchor class="ups-invalid_color"> Email 3</a> is not valid.
            </span>
        </li>
    </ul>
</div>

<form name="ups_addUser" error-on-submit>
	<div class="ups-close_wrapper">
			<div class="row" data-ng-repeat="user in formObj">
				<div class="col-md-5">
					<div class="ups-form_group ups-form_required">
						<label for="add-user-id" class="ups-form_label"
							data-ng-show="$index===0">
                            User ID
                            <span aria-hidden="true" class="ups-required_indicator"></span>
						</label>
						<div class="ups-text_wrapper ups-input_wrapper">
							<input error-on-blur id="{{ 'add-user-id' + $index }}" type="text"
								name="{{'user_name'+$index}}" class="ups-form_input"
								data-ng-model="user.user_name"
								data-ng-pattern="/^[a-zA-Z0-9]{1,16}$/" maxlength="16"
								data-ng-model-options="{updateOn: 'blur'}"
								aria-describedby="userid-error" aria-required="true" required
                                data-ng-class="{'ups-bodError':(ups_addUser['user_name' + $index].$invalid && clicked)}">
							<div id="userid-error"
								data-ng-if="(user.user_name && ups_addUser['user_name'+$index].$valid)">
								<span class="ups-icon-check" aria-hidden="true"></span>
								<!-- @Note: screen reader text needs to be translated as well -->
								<span class="ups-readerTxt">Check</span>
							</div>

							<span id="userid-error" role="alert"><span class="ups-invalid_color"
								data-ng-if="(!ups_addUser['user_name'+$index].$pristine && ups_addUser['user_name'+$index].$invalid)  || (ups_addUser['user_name'+$index].$invalid && clicked)">
									<span class="icon ups-error_exclamation"><span class="ups-icon-exclamation" aria-hidden="true"></span></span>
									<span class="ups-readerTxt">Invalid</span> <span
									data-ng-show="ups_addUser['user_name'+$index].$error.required">User
										Id is required.</span> <span
									data-ng-hide="ups_addUser['user_name'+$index].$error.required">Please
										enter a valid User ID.</span>
							</span></span>
						</div>
					</div>
					<div class="ups-form_group ups-form_required"
						data-errormsg="This field is required">
						<label for="add-email" class="ups-form_label"
							data-ng-show="$index===0">
                            Email
                            <span aria-hidden="true" class="ups-required_indicator"></span>
                        </label>
						<div class="ups-text_wrapper ups-input_wrapper">
							<input error-on-blur id="{{ 'add-email' + $index }}" validate-email type="email"
								name="{{'email_input'+$index}}" class="ups-form_input" value=""
								maxlength="50" required data-ng-model="user.email"
								title="address@domail.com"
								data-ng-model-options="{updateOn: 'blur'}"
								aria-describedby="email-error" aria-required="true"
                                data-ng-class="{'ups-bodError':(ups_addUser['email_input' + $index].$invalid && clicked)}">

							<div id="email-error"
								data-ng-if="(ups_addUser['email_input'+$index].$valid)">
								<!-- @Note: screen reader text needs to be translated as well -->
								<span class="ups-icon-check" aria-hidden="true"></span>
								<span class="ups-readerTxt">Check</span>
							</div>

							<span id="email-error" role="alert"><span class="ups-invalid_color"
								data-ng-if="(!ups_addUser['email_input'+$index].$pristine && ups_addUser['email_input'+$index].$invalid) || (ups_addUser['email_input'+$index].$invalid && clicked)">
									<span class="icon ups-error_exclamation"><span class="ups-icon-exclamation" aria-hidden="true"></span></span>
									<span class="ups-readerTxt">Invalid</span> <span
									data-ng-show="ups_addUser['email_input'+$index].$error.required">Email
										is required.</span> <span
									data-ng-hide="ups_addUser['email_input'+$index].$error.required">Please
										enter a valid email address.</span>
							</span></span>
						</div>
					</div>
				</div>
				
                <div class="col-md-1 text-right"
					data-ng-show="$index!=0"
					data-ng-class="{'ups-offset-14':$index>0,'ups-offset-35':$index===0}">
					<a href="#" onclick="return false;" class="close  ups-close-right ups-link"
						data-ng-click="remove($index)"><span class="ups-icon-minuscircle" aria-hidden="true"></span> <span class="ups-readerTxt">Delete name variation</span>
					</a>
				</div>
			</div>
	</div>
	<div data-ng-if="(length-1)!==0">
			<div class="ups-my-address ups-samples-invoice" data-ng-click="add()">
			</div>
			<a href="#" onclick="return false;" data-ng-click="add()" class="ups-link"> Add another user </a>
            
	</div>
    <div class="ups-form_group ups-checkbox_group">
        <div class="ups-checkbox ups-input_wrapper">
            <input check-verify id="ups-invitation_checkbox"
                class="ups-checkbox-custom" name="ups-terms_checkbox" value="1"
                type="checkbox" data-ng-model="formObj.tnc"
                data-ng-checked="formObj.tnc"> <label
                for="ups-invitation_checkbox"
                class="ups-form_label ups-checkbox-custom-label">Send me a copy of the invitation email. </label>
        </div>
        <!-- ups-checkbox ups-input_wrapper -->
	</div>
</form>
<div class="ups-form_ctaGroup text-center">
    <button type="submit" class="ups-cta ups-cta_primary"
        data-ng-click="clicked=true; sendInvite(ups_addUser)">Invite Users</button>
        <!-- data-ng-disabled="!ups_addUser.$valid" -->
    <button class="ups-cta ups-cta_secondary" data-ng-click="cancel()">Cancel</button>
</div>
