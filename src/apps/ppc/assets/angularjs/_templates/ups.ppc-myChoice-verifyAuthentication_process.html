<div class="ups-verifyAuthentication">
    <h2>Verify Your Identity</h2>
    <div class="ups-verifyAuth_body">
        <h3>How would you like to verify your identity?</h3>
        <p>The security of your packages is very important to UPS,
            therefore we need to verify your identity. Select one of the
            available authentication methods below to complete identity
            verification.</p>
    </div>
    <p>
        <em>
            <span aria-hidden="true">*</span>
            <span class="ups-readerTxt">Required</span>
            Indicates required field
        </em>
    </p>
    <div class="ups-tabs">
        <div class="ups-tab-headers ups-wrap">
            <ul class="ups-wrap_inner" role="tablist">
                <li class="tab-header ups-tab_borderOrng ups-onboard_tabs"
					role="tab" aria-selected="true" aria-controls="auth_tab_1"
					id="tab_1" tabindex='0' data-tab="Send Activation code to My phone"
					data-open="true"><span class="tab-title">Send
                    a PIN to My Phone</span> <span class="tab-border"></span></li>
                <li class="tab-header ups-tab_borderBlue ups-onboard_tabs"
					id="tab_2" role="tab" aria-controls="auth_tab_2" tabindex='0'
					aria-selected="false" data-tab="Take Security Quiz"
					data-open="false"><span class="tab-title">Take Security
                    Quiz</span> <span class="tab-border"></span></li>
            </ul>
        </div>
        <div class="ups-tab-content top-tab" aria-labelledby="tab_1"
			id="auth_tab_1" role="tabpanel" aria-hidden="false"
			data-tab="Send Activation code to My phone" data-open="true"
			data-content-selected="true" data-prev-active="false">
            <div class="tab-header ups-tab_borderOrng" aria-selected="true"
				aria-controls="auth_tab_1_panel" id="tab_1_panel"
				data-tab="Send Activation code to My phone">
                <div class="tab-title">Send
                    a PIN to My Phone</div>
                <button class="ups-med_show"> <span class=" ups-iconAlone ups-icon-minus" aria-hidden="true"></span> <span class="ups-readerTxt">Collapse Send
                    a PIN to My Phone</span> </button>
            </div>
            <!-- @end ups-tab-header for mobile -->
            <div class="sub-detail-container" aria-labelledby="tab_1_panel"
				id="auth_tab_1_panel" aria-hidden="false">
                <div
					class="ups-verifyAuth_box_hidden ups-application_wrapper ups-form_wrap">
                    <div data-ng-if="isOTPProcess">
                        <form error-on-submit name="otpForm">
                            <div>
                                <h3> <span class=" "
										data-ng-if="(!(otpForm.otpNumber.$pristine) && otpForm.otpNumber.$invalid) && isError==false"><span class="ups-icon-exclamation ups-invalid_color" aria-hidden="true"></span>This PIN is not valid. Please check the number and try again.</span> </h3>
                                <h3> <span
										class="ups-invalid_color-list ups-error_alert-list" data-ng-if="isError"> <span class="icon ups-icon-exclamation" aria-hidden="true"></span>{{errorOTPText}} </span> </h3>
                                <p> Enter your PIN within five
                                minutes of receipt. </p>
                                <div class="row ups-otp_input">
                                    <div class="col-md-4">
                                        <div class="ups-form_group ups-form_required">
                                            <div class="ups-text_wrapper ups-input_wrapper">
                                                <label for="otpNumber" class="ups-readerTxt">
                                                    PIN
                                                    <span aria-hidden="true" class="ups-required_indicator"></span>
                                                </label>
                                                <input error-on-blur type="text"
													id="otpNumber" aria-describedby="otpNumber-error"
													name="otpNumber"
													class="ups-form_input ups-buttonList_wrapper"
													data-ng-model="otp.otpNumber" aria-required="true" required
													data-ng-model-options="{updateOn: 'blur'}">
                                                <span
													id="otpNumber-error" role="alert"><span class="ups-invalid_color"
													data-ng-if="!(otpForm.otpNumber.$pristine) && otpForm.otpNumber.$invalid "> <span
														class="icon ups-error_exclamation"><span class="ups-icon-exclamation" aria-hidden="true"></span></span> <span>Please enter a valid verification code.</span> </span> <span data-ng-if="(otpForm.otpNumber.$valid)"> <span class="ups-icon-check" aria-hidden="true"></span> <span class="ups-readerTxt">Check</span> </span> </span> </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6"> <a href="#" onclick="return false;" class="ups-cta ups-cta_secondary"
											data-ng-click="resendOTP()">Resend PIN</a> </div>
                                </div>
                                <div class="ups-form_ctaGroup ">
                                    <button type="button" class="ups-cta ups-cta_primary"
											data-ng-click="submitOTPCode()"
                                            data-ng-model-options="{updateOn: 'click'}">Submit</button>
                                    <!-- data-ng-disabled="!(otpForm.$valid)" --> 
                                </div>
                            </div>
                        </form>
                    </div>
                    <div data-ng-if="!isOTPProcess">
                        <form error-on-submit name="validatePhone">
                            <div class="ups-verifyAuth_phone">
                                <div data-ng-if="!user.isPhoneValidated">
                                    <h3> <span
											class="ups-invalid_color-list ups-error_alert-list"
											data-ng-if="!(validatePhone.phoneNumber.$pristine) && validatePhone.phoneNumber.$invalid "><span class="icon ups-icon-exclamation" aria-hidden="true"></span>The
                                        phone number you entered isn't a valid phone number. </span> </h3>
                                    <p>The billing address for your phone must match your enrollment address.</p>
                                </div>
                                <div data-ng-if="user.phone && user.isPhoneValidated">
                                    <p class="ups-form_label">Phone Number</p>
                                    <p>{{user.phone}}</p>
                                </div>
                                <div class="row" data-ng-if="!user.isPhoneValidated">
                                    <div class="col-md-5">
                                        <div class="ups-form_group ups-form_required">
                                            <label for="ups-verify_checkMobile" class="ups-form_label">
                                                Phone Number
                                                <span aria-hidden="true" class="ups-required_indicator"></span>
                                            </label>
                                            <div class="ups-text_wrapper ups-input_wrapper">
                                                <input error-on-blur type="text" name="phoneNumber"
													class="ups-form_input" data-ng-blur="checkPhoneNumber()"
													aria-describedby="phoneNumber-error" aria-required="true"
													id="ups-verify_checkMobile" data-ng-model="user.phone"
													required number-mask maxLength="15" />
                                                <span
													id="phoneNumber-error" role="alert"><span class="ups-invalid_color"
													data-ng-show="!(validatePhone.phoneNumber.$pristine) && validatePhone.phoneNumber.$invalid "> <span
													class="icon ups-error_exclamation"><span class="ups-icon-exclamation" aria-hidden="true"></span></span> </span> <span data-ng-if="(validatePhone.phoneNumber.$valid)"><span class="ups-icon-check" aria-hidden="true"></span> <span class="ups-readerTxt">Check</span> </span> </span> </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="ups-verifyAuth_phone_options">
                                <fieldset class="ups-form_group">
                                    <!--<p>Select how you would you like to recieve your activation code. Message and data rates may apply.</p>-->
                                    <legend class="ups-form_label"> How would you like to get your PIN? (Message and data rates may apply) </legend>
                                    <div class="ups-buttonList_wrapper ups-input_wrapper">
                                        <input type="radio" data-ng-checked="verifyAuth.txtmsg"
											name="message" id="ups-verify_messages"
											class="ups-radio-custom" data-ng-required="true" />
                                        <label
											for="ups-verify_messages" class="ups-radio-custom-label">Text
                                            message</label>
                                    </div>
                                    <div class="ups-buttonList_wrapper ups-input_wrapper">
                                        <input type="radio" data-ng-checked="verifyAuth.vcemsg"
											name="message" id="ups-verify_voice" class="ups-radio-custom"
											data-ng-required="true" />
                                        <label for="ups-verify_voice"
											class="ups-radio-custom-label">Voice message</label>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="ups-form_ctaGroup ">
                                <button type="button" class="ups-cta ups-cta_primary"
										data-ng-click="sendOTPCode()">Send PIN</button>
                                <!-- data-ng-disabled="!(validatePhone.$valid)" -->
                                <button type="button" class="ups-cta ups-cta_secondary" data-ng-click="openCancelPopUp()">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- @end ups-tab-content -->
        <div class="ups-tab-content" aria-labelledby="tab_2" id="auth_tab_2"
			role="tabpanel" aria-hidden="true" data-tab="Take Security Quiz"
			data-prev-active="true" data-open="false"
			data-content-selected="false">
            <div class="tab-header ups-tab_borderBlue" aria-selected="false"
				aria-controls="auth_tab_2_panel" id="tab_2_panel"
				data-tab="Take Security Quiz">
                <div class="tab-title">Take Security Quiz</div>
                <button class="ups-med_show "> <span class="ups-iconAlone ups-icon-plus" aria-hidden="true"></span> <span class="ups-readerTxt">Expand Take Security Quiz</span> </button>
            </div>
            <!-- @end ups-tab-header for mobile -->
            <div class="sub-detail-container" aria-labelledby="tab_2_panel"
				id="auth_tab_2_panel" aria-hidden="true">
                <div class="ups-verifyAuth_box_hidden">
                    <div class="ups-form_wrap ups-application_wrapper">
                        <form name="formObjchck">
                            <div data-ng-if="!user.dob">
                                <h3 tabindex="0"> <span class=" "><span class="ups-invalid_color ups-icon-exclamation" aria-hidden="true"></span>Based
                                    on the information you provided, we are not able to verify
                                    your identity at this time. Please confirm the information is
                                    correct or <a class="ups-cta ups-cta_secondary" href="#" onclick="return false;">learn
                                    how it may be resolved.</a> </span> </h3>
                            </div>
                            <div data-ng-if="user.dob">
                                <p> We need a little more information to create your
                                    quiz. Know that we will not save this info or use it in any other way. </p>
                                <div class="ups-form_add-or-authenticate-account ups-otp_input">
                                    <fieldset class="ups-form_group ups-form_required ups-help_wrapper">
                                        <legend class="ups-form_label"> Date Of Birth</legend>
                                        <!--<div class="ups-help"> <a href="#" onclick="return false;" data-ng-click="isPopoverOpen = !isPopoverOpen"
														class="ups-help_link icon ups-active">Help <span class="ups-icon-questioncircle" aria-hidden="true"></span><span
														class="ups-readerTxt">Date of Birth</span></a>
                                            <div class="ups-help_tooltip ups-help_tooltip_bottomleft"
														data-ng-style="isPopoverOpen ? {'display':'block'} :{'display':'none'}">
                                                <button type="button" data-ng-click="isPopoverOpen = false"
															class="ups-help_close icon "> <span class=" ups-icon-x ups-iconAlone" aria-hidden="true"></span> <span class="ups-readerTxt">Close</span> </button>
                                                <p>Explanatory text lorem ipsum dolor sit amet.</p>
                                            </div>
                                        </div>-->
                                        <div class="row">
                                            <div class="col-md-2">
                                                <div class="ups-form_group ups-form_required">
                                                    <label for="ups-month_select">
                                                        Month
                                                        <span class="ups-required_indicator" aria-hidden="true"></span>
                                                    </label>
                                                    <div class="ups-dropdown_wrapper ups-input_wrapper"
                                                                data-errormsg="This field is required">
                                                        <select error-on-blur-birth name="upsMonth"
                                                                    id="ups-month_select" class="ups-dropdown"
                                                                    data-ng-model="addressFormObj.month"
                                                                    data-ng-change="populateDateVal(addressFormObj.month,addressFormObj.year)"
                                                                    aria-required="true" required
                                                                    data-ng-model-options="{updateOn: 'blur'}"
                                                                    aria-describedby="date-error">
                                                            <option data-ng-repeat="month in Months"
                                                                        value="{{month}}">{{month}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="ups-form_group ups-form_required">
                                                    <label for="ups-day_select">
                                                        Day
                                                        <span class="ups-required_indicator" aria-hidden="true"></span>
                                                    </label>
                                                    <div class="ups-dropdown_wrapper ups-input_wrapper"
                                                                data-errormsg="This field is required">
                                                        
                                                        <select error-on-blur-birth name="upsDay"
                                                                    id="ups-day_select" class="ups-dropdown"
                                                                    data-ng-model="addressFormObj.day"
                                                                    aria-required="true" required
                                                                    data-ng-model-options="{updateOn: 'blur'}">
                                                            <option data-ng-repeat="day in Days" value="{{day}}">{{day}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2">
                                                <div class="ups-form_group ups-form_required">
                                                    <label for="ups-year_select">
                                                        Year
                                                        <span class="ups-required_indicator" aria-hidden="true"></span>
                                                    </label>
                                                    <div class="ups-dropdown_wrapper ups-input_wrapper"
                                                                data-errormsg="This field is required">
                                                        
                                                        <select error-on-blur-birth name="upsYear"
                                                                    id="ups-year_select" class="ups-dropdown"
                                                                    data-ng-model="addressFormObj.year"
                                                                    data-ng-change="populateDateVal(addressFormObj.month,addressFormObj.year)"
                                                                    aria-required="true" required
                                                                    data-ng-model-options="{updateOn: 'blur'}">
                                                            <option data-ng-repeat="year in Years" value="{{year}}">{{year}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <span id="date-error" role="alert"> <span
													class="ups-invalid_color"
													data-ng-if="(!(formObjchck.upsMonth.$pristine) && !formObjchck.upsMonth.$valid) || (!(formObjchck.upsDay.$pristine) && !formObjchck.upsDay.$valid) ||  (!(formObjchck.upsYear.$pristine) && !formObjchck.upsYear.$valid) || checkAgeLimit==1"> <span>One of more required field are either blank
                                        or incorrect</span> </span> <span class="ups-invalid_color"
													data-ng-if="checkAgeLimit==2"> <span>We're
                                        sorry. you are not eligible to register for UPS My
                                        Choice(R) at this time.</span> </span> </span>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="ups-form_ctaGroup">
                                <button type="button" class="ups-cta ups-cta_primary"
										data-ng-click="generateMoreQuiz()">Generate Quiz</button>
                                <!-- data-ng-disabled="!(formObjchck.$valid)" -->
                                <!--<button type="button" class="ups-cta ups-cta_secondary "
										data-ng-click="openCancelPopUp()">Cancel</button>-->
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- @end ups-tab-content --> 
    </div>
</div>
